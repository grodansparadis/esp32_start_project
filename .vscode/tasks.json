{
  "tasks": [
    // Start openocd
    {
      "label": "preRun",
      "type": "shell",
      "command": "/home/akhe/.espressif/tools/openocd-esp32/v0.11.0-esp32-20220706/openocd-esp32/bin/openocd",
      "isShellCommand": true,      
      "args": [
        "-c", "set ESP_RTOS none",
        "-f", "/home/akhe/.espressif/tools/openocd-esp32/v0.11.0-esp32-20220706/openocd-esp32/share/openocd/scripts/board/esp32c3-builtin.cfg"
      ],
      "isBackground": true
    },
    {
      "label": "ESP32: Build Firmware",
      "type": "shell",
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "options": {
        "cwd": "${workspaceRoot}",
      },
      "command": "idf.py build",
      "problemMatcher": [
        "$gcc"
      ]
    },
    {
      "label": "ESP32: FullClean",
      "type": "shell",
      "options": {
        "cwd": "${workspaceRoot}",
      },
      "command": "idf.py fullclean",
      "problemMatcher": []
    },
    {
      "label": "ESP32: Flash via OpenOCD (ESP32-JTAG (C3))",
      "type": "shell",
      "options": {
        "cwd": "${workspaceRoot}",
      },
      "command": "openocd -f board/esp32c3-builtin.cfg -c \"program_esp build/blink.bin 0x10000 verify exit\" ",
      "problemMatcher": []
    },
    {
      "label": "ESP32: Flash via OpenOCD (ESP-Prog)",
      "type": "shell",
      "options": {
        "cwd": "${workspaceRoot}",
      },
      "command": "openocd -f interface/ftdi/esp32_devkitj_v1.cfg -f target/esp32.cfg -c \"program_esp build/esp_prog_vscode_debug.bin 0x10000 verify reset exit\" ",
      "problemMatcher": []
    },
    {
      "label": "ESP32: Flash all",
      "type": "shell",
      "options": {
        "cwd": "${workspaceRoot}",
      },
      "command": "idf.py flash",
      "problemMatcher": []
    },
    {
      "label": "ESP32: Monitor",
      "type": "shell",
      "options": {
        "cwd": "${workspaceRoot}",
      },
      "command": "idf.py monitor",
      "problemMatcher": []
    },
    {
      "label": "ESP32: Flash & Monitor",
      "type": "shell",
      "options": {
        "cwd": "${workspaceRoot}",
      },
      "command": "idf.py flash monitor",
      "problemMatcher": []
    },
    {
      "label": "ESP32: Environment Check",
      "type": "shell",
      "options": {
        "cwd": "${workspaceRoot}",
      },
      "command": "printenv",
      "problemMatcher": []
    },
    {
      "label": "ESP32: Menu Config",
      "type": "shell",
      "options": {
        "cwd": "${workspaceRoot}",
        "env": {
            "LC_ALL": "C",
        }
      },
      "command": "idf.py menuconfig",
      "problemMatcher": []
    }
  ],
  "version": "2.0.0"
}